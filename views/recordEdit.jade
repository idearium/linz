include mixins/documentarray
include mixins/conflictDropdown
include mixins/conflictDocumentArrayDropdown


extends layout

block header
	h1 Editing '#{record.title}'

block content
	.container.linz-container.edit.record
		.pane
			.body
				div
					form.form-horizontal.model(role='form', action='#{actionUrl}', method='post', data-linz-validation='true')
						.form-group.control-bar.control-bar-top
							.col-sm-12
								button.btn.btn-primary(type='submit') Save
								a.btn.btn-link(href='#{cancelUrl}') or cancel
						input(type="hidden", name="versionNo", value=record.__v)
						!= form
						.form-group.control-bar
							.col-sm-offset-2.col-sm-10
								button.btn.btn-primary(type='submit') Save
								a.btn.btn-link(href='#{cancelUrl}') or cancel
					mixin documentarray()

block script
	script
		!= conflictHandlersJS
	script(src='' + linz.get('admin path') + '/public/js/handlebars.js')
	script(src='' + linz.get('admin path') + '/public/js/jquery.binddata.js')
	script(src='' + linz.get('admin path') + '/public/js/documentarray.js')
	script(src='' + linz.get('admin path') + '/public/js/deep-diff-0.2.0.min.js')
	script(src='' + linz.get('admin path') + '/public/js/json2.js')
	script(src='' + linz.get('admin path') + '/public/js/model/edit.js')
	script(src='' + linz.get('admin path') + '/public/js/model/check-record-changes.js')
	mixin conflictDropdown()
	mixin conflictDocumentArrayDropdown()
	
